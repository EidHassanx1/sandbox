<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <p>
      Melding: <input type="text" id="txtMelding" /><br />
      NÃ¸kkel: <input type="text" id="txtNoekkel" /><br />
      <button id="btnKrypter">Krypter</button>
      <button id="btnDekrypter">Dekrypter</button>
    </p>
    <p id="utskrift"></p>
  </body>
  <script type="text/javascript">

  function omformTegn(tegn, noekkel) {
    var tegnverdi = tegn.charCodeAt(0);
    tegnverdi = tegnverdi + noekkel;
    return String.fromCharCode(tegnverdi);
  }

  function omformMelding(melding, noekkel) {
    var omformet = "";
    var tegn = melding.split("");
    for (var i = 0; i < tegn.length; i++) {
        omformet += omformTegn(tegn[i], noekkel);
    }
    return omformet;
  }

  function oppstart() {
    document.getElementById("btnKrypter").onclick = krypter;
    document.getElementById("btnDekrypter").onclick = dekrypter;
  }

  function krypter() {
    var melding = document.getElementById("txtMelding").value;
    var noekkel = parseInt(document.getElementById("txtNoekkel").value);
    document.getElementById("utskrift").innerHTML = omformMelding(melding, noekkel);
  }

  function dekrypter() {
    var melding = document.getElementById("txtMelding").value;
    var noekkel = parseInt(document.getElementById("txtNoekkel").value);
    noekkel = -noekkel;

    document.getElementById("utskrift").innerHTML = omformMelding(melding, noekkel);
  }
  </script>
</html>
